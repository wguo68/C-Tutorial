
[教小白精通编程](http://xuepro.xcguan.net)

系列课程之

##  现代c++11/14/17教程之2--运算符与表达式
 
 严禁未经作者同意，转载请注明出处，否则将追究法律责任！

## 1. 运算符与表达式

**运算符对数据(变量和常量)运算构成表达式**

**表达式**：由0个以上运算符和1个以上运算数构成.

如表达式“2+3”由2个文字量"2"和"3"通过加法运算符"+"构成。

最简单的表达式仅由1个变量或常量构成，不含任何运算符。
如上述的表达式中的"3"本身也是一个表达式。

每个表达式都有运算结果，对它们可以继续运算。如表达式"2+3"是由表达式"2"和表达式"2"通过加法运算符"+"构成的表达式。
因此，表达式中可以嵌套其他表达式。

再看下面的例子：
```
  z = x+y/2+x*z
```
我们看到：
```
  其中的"x","y","z","2"都是表达式，"y/2"和"x*z"也是表达式，
  "x+y/2"也是表达式，"x+y/2+x*z"也是表达式，"z = x+y/2+x*z"通过赋值运算符"="构成表达式。
```
运算符具有不同的优先次序，我们熟知的“四则运算规则”：“先括号里的后括号外的”，“先乘除后加减”，“先左后右”。

C++的运算符也基本符合上述“四则运算规则”，即运算符具有不同的优先计算次序。在上述的运算符中乘除优先于加减，它们都优先于赋值运算符"="。

**注意**:这里的"="表示的是赋值为运算，比如"a=b"的意思是将b的值赋值给变量a，即b的值拷贝到a的内存块中。

我们不需要死记这些运算符的优先级，可以用优先级别高的运算符圆括号“()”来保证正确的计算次序。上述表达式的计算次序可以用圆括号表示如下：
```
  ( z = ( (x+(y/2) )+(x*z) )  )
```
当然，我们可以用"()"改变计算次序：
```
   z = ( (x+y)/2 + x)*z)  
```

**运算符的分类**

* 按功能： 算术、逻辑、比较、赋值、位运算、成员访问、条件等

比如
```
   算术运算符： +、-、*、/、%（求余数）、++（自增1）、--（自减1）
   比较运算符：>、<、>=、<=、!=（不等于）
   逻辑运算符：&&(逻辑与)、||(逻辑或)、!(逻辑非)
   位运算符：：&(与)、|(或)、^(或)、~
   赋值运算符：=、+=、-=、*=、/=、%=、&=、^=、^=
```

* 按优先级和结合性： 不同运算符的优先次序不同，结合性可“自左向右”或“自右向左”。
 
 结合性：如 "x+y+z"中加法运算符"+"是“自左向右结合的”，而"x=y=z"中赋值运算符"+"是“自右向左结合的”，即：先"y=z"(z的赋值给y)，然后“x=y”(即表达式"y=z"的值y赋值给x)。

 优先级：比如乘除优先于加减，加减优先于“赋值”等等。

 附： [“C++ 运算符的优先级和结合”表](http://zh.cppreference.com/w/cpp/language/operator_precedence)

* 按运算数的个数： 一元、 二元、 三元运算符

比如加法运算符"+"需要2个运算符，称为**二元运算符**。

**自增运算符**"++"，只使一个运算符自己增加1.如
```cpp
    int a = 2;
    a++; //a的值从2变成了3，即自增了1，即相当于a = a+1
    std::cout<<a; //将输出3
```
这种只对一个运算数进行运算的运算符叫做**一元运算符**。

**三元运算符**只有1个所谓的“条件运算符”，即"**?:**"运算符。
其格式为

```
   exp1?exp2:exp3
```

该条件运算符对3个运算数即3个表达式"exp1"、"exp2"、"exp3"进行条件运算。整个表达式的值根据"exp1"的是否为"true(真)"或“非0”而取“exp2”或"exp3"的值。

即，如果"exp1"的是"true(真)"或“非0”,整个表达式的值为"exp2"的值，否则是"exp3"的值！

例如，假设我们要求a,b两个数的最小值，可以这样：
```cpp
   a<b? a : b
```
根据```"a<b"```是否成立，最小值要么是a要么是b。

假如我们要求3个数a,b,c的最小值，可以用下面的语句：
```cpp
   a<b ? (a<c?a:c):  (b<c?b:c)
```
即，如果```"a<b"```成立,则在a和c中继续比较用条件运算符比较，否则在b和c中继续用条件运算符比较！

我们可以用一小段代码测试一下上述代码：
```cpp
   #include <iostream>
   int main(){
       int a,b,c;
       std::cin>>a>>b>>c;
       int min = a<b ? (a<c?a:c):  (b<c?b:c);
       std::cout<<a<<","<<b<<","<<b<<"这3个数的最小值是："
           <<min<<std::endl;
   }
```
从键盘出入3个整数（输入时，中间用空格隔开），看看结果是不是正确?


## 2. 算术运算符

假设a=3,b=4; 
| 运算符  | 符号  | 例子 |例子解释|
|---------|------:|:----:|:------:|
| 加法    | +     | a+b  | a+b    |
| 减法    | -     | a-b  | a+b    |
| 乘法    | *     | a```*```b  | a+b    |


关注微博"[教小白精通编程](https://weibo.com/6196175626/profile?topnav=1&wvr=6)".  加入QQ群：101132160 ​​​ 享受直接的辅导！